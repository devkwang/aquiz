"use strict";angular.module("aquizApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/aquiz",{templateUrl:"views/aquiz.html",controller:"AquizCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("aquizApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("aquizApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("aquizApp").controller("AquizCtrl",["getquestions","$scope","$rootScope",function(a,b,c){b.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],b.qznum=1;var d={id:"1",title:"signed numbers",setting:""};"undefined"==typeof c.started?(b.questions=[],a.fetch("data/questions.json").then(function(a){b.questions=a,c.record={},b.quiznew(),b.questionshow(b.qnum)}),c.started=!0):(console.log("started"),a.fetch("data/questions.json").then(function(a){b.questions=a,b.quizreload(),b.questionshow(b.qnum)})),b.questionnew=function(a){b.question=b.questions[a],b.numchoices=b.question.choices.length>26?26:b.question.choices.length,c.record.cselected[a]=Array.apply(null,new Array(b.numchoices)).map(function(){return!1}),b.mark=c.record.mark[a]=Array.apply(null,new Array(b.numchoices)).map(function(a,b){return"<p>"+String.fromCharCode(65+b)+"</p>"})},b.questionshow=function(a){b.qnum=a,b.question=b.questions[a],b.numchoices=b.question.choices.length>26?26:b.question.choices.length,b.corrected=c.record.corrected[a],b.evaluated=c.record.evaluated[a],b.cselected=c.record.cselected[a],b.mark=c.record.mark[a]},b.quiznew=function(){b.qnum=0,b.qznum=d.id,b.qztitle=d.title,b.qznumtotal=b.questions.length,c.record.corrected=Array.apply(null,new Array(b.qznumtotal)).map(function(){return!0}),c.record.evaluated=Array.apply(null,new Array(b.qznumtotal)).map(function(){return!1}),c.record.cselected=Array.apply(null,new Array(b.qznumtotal)),c.record.mark=Array.apply(null,new Array(b.qznumtotal));for(var a=0;a<b.qznumtotal;a++)b.questionnew(a)},b.quizreload=function(){b.qnum=0,b.qznum=d.id,b.qztitle=d.title,b.qznumtotal=b.questions.length,b.cselected=c.cselected},b.cselect=function(a,d){b.evaluated||(c.record.cselected[a][d]=b.cselected[d]=!b.cselected[d])},b.recordupdate=function(a){c.record.corrected[a]=b.corrected,c.record.evaluated[a]=b.evaluated,c.record.cselected[a]=b.cselected,c.record.mark[a]=b.mark},b.evaluate=function(){if(b.evaluated!==!0){b.evaluated=!0;for(var a=0;a<b.numchoices;a++)b.question.choices[a].answer===!0?b.mark[a]='<p class="glyphicon glyphicon-ok"></p>':b.cselected[a]===!0&&(b.mark[a]='<p class="glyphicon glyphicon-remove"></p>'),b.question.choices[a].answer!==b.cselected[a]&&(b.corrected=!1);b.recordupdate(b.qnum)}},b.result=function(){return b.corrected?"correct":"incorrect"},b.next=function(){b.qnum+1<b.qznumtotal&&b.questionshow(b.qnum+1)},b.before=function(){b.qnum-1>=0&&b.questionshow(b.qnum-1)},b.end=function(){return b.qnum===b.qznumtotal-1?!0:!1},b.begin=function(){return 0===b.qnum?!0:!1}}]),angular.module("aquizApp").directive("mathjaxBind",["$injector",function(){return{restrict:"A",controller:["$scope","$element","$attrs",function(a,b,c){a.$watch(c.mathjaxBind,function(a){b.html(void 0===a?"":a),MathJax.Hub.Queue(["Typeset",MathJax.Hub,b[0]])})}]}}]),angular.module("aquizApp").directive("mathjax",function(){return{restrict:"EA",link:function(a,b,c){a.$watch(c.ngModel,function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub,b.get(0)])})}}}),angular.module("aquizApp").factory("getquestions",["$q","$timeout","$http",function(a,b,c){var d={fetch:function(d){var e=a.defer();return b(function(){c.get(d).success(function(a){e.resolve(a)}).error(function(){console.log("error!")})},50),e.promise}};return d}]);